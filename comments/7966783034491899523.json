{"version":"1.0","encoding":"UTF-8","feed":{"xmlns":"http://www.w3.org/2005/Atom","xmlns$openSearch":"http://a9.com/-/spec/opensearch/1.1/","xmlns$gd":"http://schemas.google.com/g/2005","gd$etag":"W/\"DEcBSHk4eSp7ImA9XBNSFU8.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post7966783034491899523..comments"},"updated":{"$t":"2019-03-02T19:27:39.731+08:00"},"title":{"$t":"Comments on 编程随想的博客: Java 性能优化[2]：字符串过滤实战"},"link":[{"rel":"http://schemas.google.com/g/2005#feed","type":"application/atom+xml","href":"https:\/\/program-think.blogspot.com\/feeds\/comments\/default"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default?alt=json\u0026max-results=10000\u0026reverse=false\u0026orderby=published\u0026v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html"},{"rel":"hub","href":"http://pubsubhubbub.appspot.com/"}],"author":[{"name":{"$t":"编程随想"},"uri":{"$t":"http:\/\/www.blogger.com\/profile\/11741356469378252621"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"26","height":"32","src":"\/\/4.bp.blogspot.com\/-GTIh2pdzDYI\/VtcrB6rX0pI\/AAAAAAAABUg\/vWdDxEU4N6c\/s220\/Thinker.jpg"}}],"generator":{"version":"7.00","uri":"http://www.blogger.com","$t":"Blogger"},"openSearch$totalResults":{"$t":"36"},"openSearch$startIndex":{"$t":"1"},"openSearch$itemsPerPage":{"$t":"10000"},"entry":[{"gd$etag":"W/\"DEAAQX47eCp7ImA9WxVUFE8.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-819344030064407831"},"published":{"$t":"2009-03-19T09:39:00.000+08:00"},"updated":{"$t":"2009-03-19T09:39:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-19T09:39:00.000+08:00"},"title":{"$t":"写得不错，看过后有收获呢继续关注后边的文章"},"content":{"type":"html","$t":"写得不错，看过后有收获呢\u003CBR\/\u003E继续关注后边的文章"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/819344030064407831?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/819344030064407831?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1237426740000#c819344030064407831","title":""}],"author":[{"name":{"$t":"schlolar.luo"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"16","height":"16","src":"https:\/\/img1.blogblog.com\/img\/blank.gif"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-357517073"},{"name":"blogger.displayTime","value":"2009年3月19日 上午9:39:00"}]},{"gd$etag":"W/\"Ak8EQX47eCp7ImA9WxVUFE4.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-8385858496350803501"},"published":{"$t":"2009-03-19T13:00:00.000+08:00"},"updated":{"$t":"2009-03-19T13:00:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-19T13:00:00.000+08:00"},"title":{"$t":"orz"},"content":{"type":"html","$t":"orz"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/8385858496350803501?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/8385858496350803501?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1237438800000#c8385858496350803501","title":""}],"author":[{"name":{"$t":"Anonymous"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"16","height":"16","src":"https:\/\/img1.blogblog.com\/img\/blank.gif"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-357517073"},{"name":"blogger.displayTime","value":"2009年3月19日 下午1:00:00"}]},{"gd$etag":"W/\"C0cGQX47eCp7ImA9WxVUFEk.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-7508225787209462572"},"published":{"$t":"2009-03-19T13:37:00.000+08:00"},"updated":{"$t":"2009-03-19T13:37:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-19T13:37:00.000+08:00"},"title":{"$t":"\"另外把strOld.length()先保存为nLen，也节省了重复调用length()的开销。\"好..."},"content":{"type":"html","$t":"\"另外把strOld.length()先保存为nLen，也节省了重复调用length()的开销。\"\u003CBR\/\u003E好像编译器会优化捏？不过还是不能太依赖 是不 O(∩_∩)O\u003CBR\/\u003Elz 好像很全能 管理 设计 编程"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/7508225787209462572?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/7508225787209462572?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1237441020000#c7508225787209462572","title":""}],"author":[{"name":{"$t":"Anonymous"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"16","height":"16","src":"https:\/\/img1.blogblog.com\/img\/blank.gif"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-357517073"},{"name":"blogger.displayTime","value":"2009年3月19日 下午1:37:00"}]},{"gd$etag":"W/\"CEAEQX47eCp7ImA9WxVUFEk.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-8234545856089060704"},"published":{"$t":"2009-03-19T14:05:00.000+08:00"},"updated":{"$t":"2009-03-19T14:05:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-19T14:05:00.000+08:00"},"title":{"$t":"楼上的同学，其实length()开销不大。如果不是对性能很敏感，直接写在for里面，问题也不大。另外..."},"content":{"type":"html","$t":"楼上的同学，\u003CBR\/\u003E其实length()开销不大。如果不是对性能很敏感，直接写在for里面，问题也不大。\u003CBR\/\u003E另外，感谢你的夸奖，“全能”不敢当。"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/8234545856089060704?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/8234545856089060704?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1237442700000#c8234545856089060704","title":""}],"author":[{"name":{"$t":"编程随想"},"uri":{"$t":"https:\/\/www.blogger.com\/profile\/11741356469378252621"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"26","height":"32","src":"http:\/\/4.bp.blogspot.com\/_itipB8vBZzQ\/SY1isusKAfI\/AAAAAAAAAGo\/4YF360m0Yto\/S220\/Thinker_BlogSpot.jpg"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-1582521586"},{"name":"blogger.displayTime","value":"2009年3月19日 下午2:05:00"}]},{"gd$etag":"W/\"C0AEQX47eCp7ImA9WxVUFEg.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-5130695800094987769"},"published":{"$t":"2009-03-19T16:35:00.000+08:00"},"updated":{"$t":"2009-03-19T16:35:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-19T16:35:00.000+08:00"},"title":{"$t":"(1) String result = \"hello\" + \" world\";(2) StringB..."},"content":{"type":"html","$t":"(1) String result = \"hello\" + \" world\";\u003CBR\/\u003E(2) StringBuffer result = new String().append(\"hello\").append(\" world\");\u003CBR\/\u003E楼主觉得这两个哪个效率高呢？"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/5130695800094987769?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/5130695800094987769?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1237451700000#c5130695800094987769","title":""}],"author":[{"name":{"$t":"身"},"uri":{"$t":"https:\/\/www.blogger.com\/profile\/15878003170882634967"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"16","height":"16","src":"https:\/\/img1.blogblog.com\/img\/b16-rounded.gif"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-450590528"},{"name":"blogger.displayTime","value":"2009年3月19日 下午4:35:00"}]},{"gd$etag":"W/\"CEQCQX47eCp7ImA9WxVUFEg.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-1902199365046114331"},"published":{"$t":"2009-03-19T16:46:00.000+08:00"},"updated":{"$t":"2009-03-19T16:46:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-19T16:46:00.000+08:00"},"title":{"$t":"楼上的同学，这个问题问得好。这正是我后面的帖子打算讨论的话题 :-)我先简单提一下：String r..."},"content":{"type":"html","$t":"楼上的同学，\u003CBR\/\u003E这个问题问得好。这正是我后面的帖子打算讨论的话题 :-)\u003CBR\/\u003E我先简单提一下：String result = \"hello\" + \" world\";并不是真正的字符串拼接，实际上编译时就已经变成\"hello world\"。"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/1902199365046114331?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/1902199365046114331?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1237452360000#c1902199365046114331","title":""}],"author":[{"name":{"$t":"编程随想"},"uri":{"$t":"https:\/\/www.blogger.com\/profile\/11741356469378252621"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"26","height":"32","src":"http:\/\/4.bp.blogspot.com\/_itipB8vBZzQ\/SY1isusKAfI\/AAAAAAAAAGo\/4YF360m0Yto\/S220\/Thinker_BlogSpot.jpg"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-1582521586"},{"name":"blogger.displayTime","value":"2009年3月19日 下午4:46:00"}]},{"gd$etag":"W/\"CEIAQX47eCp7ImA9WxVUFEg.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-6183867901566816892"},"published":{"$t":"2009-03-19T16:49:00.000+08:00"},"updated":{"$t":"2009-03-19T16:49:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-19T16:49:00.000+08:00"},"title":{"$t":":-)还是依然感谢楼主这么无私的一直写的如此勤快，很有帮组，还特别感谢在我困惑时对我的建议"},"content":{"type":"html","$t":":-)还是依然感谢楼主这么无私的一直写的如此勤快，很有帮组，还特别感谢在我困惑时对我的建议"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/6183867901566816892?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/6183867901566816892?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1237452540000#c6183867901566816892","title":""}],"author":[{"name":{"$t":"身"},"uri":{"$t":"https:\/\/www.blogger.com\/profile\/15878003170882634967"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"16","height":"16","src":"https:\/\/img1.blogblog.com\/img\/b16-rounded.gif"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-450590528"},{"name":"blogger.displayTime","value":"2009年3月19日 下午4:49:00"}]},{"gd$etag":"W/\"DU8AQX47eCp7ImA9WxVUFEs.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-4971464905222441793"},"published":{"$t":"2009-03-19T21:04:00.000+08:00"},"updated":{"$t":"2009-03-19T21:04:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-19T21:04:00.000+08:00"},"title":{"$t":"很好很强大，俺先看了1，还自己写了例子，才来看2的。"},"content":{"type":"html","$t":"很好很强大，俺先看了1，还自己写了例子，才来看2的。"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/4971464905222441793?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/4971464905222441793?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1237467840000#c4971464905222441793","title":""}],"author":[{"name":{"$t":"Anonymous"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"16","height":"16","src":"https:\/\/img1.blogblog.com\/img\/blank.gif"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-357517073"},{"name":"blogger.displayTime","value":"2009年3月19日 下午9:04:00"}]},{"gd$etag":"W/\"AkYGQX47eCp7ImA9WxVUFUw.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-1358006565361564911"},"published":{"$t":"2009-03-20T11:02:00.000+08:00"},"updated":{"$t":"2009-03-20T11:02:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-20T11:02:00.000+08:00"},"title":{"$t":"按理说filter2到filter3的优化是编译技术中最基本的优化，一般编译器都会做的啊（或者JVM..."},"content":{"type":"html","$t":"按理说filter2到filter3的优化是编译技术中最基本的优化，一般编译器都会做的啊（或者JVM）。我机器上是jdk1.6，试了一下，filter3的测试结果要比2慢几十毫秒。\u003CBR\/\u003E\u003CBR\/\u003E另外如果不需要考虑线程安全的话，使用StringBuilder替换StringBuffer的版本倒是可以将执行时间缩短到 1\/3"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/1358006565361564911?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/1358006565361564911?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1237518120000#c1358006565361564911","title":""}],"author":[{"name":{"$t":"qingbo"},"uri":{"$t":"https:\/\/www.blogger.com\/profile\/13670316281817727385"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"16","height":"16","src":"https:\/\/img1.blogblog.com\/img\/b16-rounded.gif"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-1265101367"},{"name":"blogger.displayTime","value":"2009年3月20日 上午11:02:00"}]},{"gd$etag":"W/\"AkECQX47eCp7ImA9WxVUFUw.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-8086874149742153163"},"published":{"$t":"2009-03-20T11:11:00.000+08:00"},"updated":{"$t":"2009-03-20T11:11:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-20T11:11:00.000+08:00"},"title":{"$t":"楼上的同学，估计是JDK 1.6作了优化，而JDK 1.5没有做。不过版本2和版本3之间的差异不是本..."},"content":{"type":"html","$t":"楼上的同学，\u003CBR\/\u003E估计是JDK 1.6作了优化，而JDK 1.5没有做。\u003CBR\/\u003E不过版本2和版本3之间的差异不是本文讨论的重点，所以我没有再深入探讨。"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/8086874149742153163?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/8086874149742153163?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1237518660000#c8086874149742153163","title":""}],"author":[{"name":{"$t":"编程随想"},"uri":{"$t":"https:\/\/www.blogger.com\/profile\/11741356469378252621"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"26","height":"32","src":"http:\/\/4.bp.blogspot.com\/_itipB8vBZzQ\/SY1isusKAfI\/AAAAAAAAAGo\/4YF360m0Yto\/S220\/Thinker_BlogSpot.jpg"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-1582521586"},{"name":"blogger.displayTime","value":"2009年3月20日 上午11:11:00"}]},{"gd$etag":"W/\"A08EQX47eCp7ImA9WxVUFUw.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-8478117296136029318"},"published":{"$t":"2009-03-20T11:30:00.000+08:00"},"updated":{"$t":"2009-03-20T11:30:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-20T11:30:00.000+08:00"},"title":{"$t":"StringBuffer可以替换成StringBuilder,StringBuffer多了个同步开销..."},"content":{"type":"html","$t":"StringBuffer可以替换成StringBuilder,StringBuffer多了个同步开销。"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/8478117296136029318?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/8478117296136029318?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1237519800000#c8478117296136029318","title":""}],"author":[{"name":{"$t":"dennis"},"uri":{"$t":"https:\/\/www.blogger.com\/profile\/02539500883112371584"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"16","height":"16","src":"https:\/\/img1.blogblog.com\/img\/b16-rounded.gif"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-1670938128"},{"name":"blogger.displayTime","value":"2009年3月20日 上午11:30:00"}]},{"gd$etag":"W/\"CkYCQX47eCp7ImA9WxVUFU8.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-2171289788977047554"},"published":{"$t":"2009-03-20T11:36:00.000+08:00"},"updated":{"$t":"2009-03-20T11:36:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-20T11:36:00.000+08:00"},"title":{"$t":"测试了下，换成了StringBuilder后，时间减少了一半，但是还是比直接用char数组稍慢"},"content":{"type":"html","$t":"测试了下，换成了StringBuilder后，时间减少了一半，但是还是比直接用char数组稍慢"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/2171289788977047554?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/2171289788977047554?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1237520160000#c2171289788977047554","title":""}],"author":[{"name":{"$t":"dennis"},"uri":{"$t":"https:\/\/www.blogger.com\/profile\/02539500883112371584"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"16","height":"16","src":"https:\/\/img1.blogblog.com\/img\/b16-rounded.gif"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-1670938128"},{"name":"blogger.displayTime","value":"2009年3月20日 上午11:36:00"}]},{"gd$etag":"W/\"CEcMQX47eCp7ImA9WxVUFU8.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-6337554142020286808"},"published":{"$t":"2009-03-20T12:08:00.000+08:00"},"updated":{"$t":"2009-03-20T12:08:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-20T12:08:00.000+08:00"},"title":{"$t":"StringBuilder确实比StringBuffer快，当初考虑到会在不同版本间做对比测试，所以..."},"content":{"type":"html","$t":"StringBuilder确实比StringBuffer快，当初考虑到会在不同版本间做对比测试，所以还是用StringBuffer。它们两者在内存分配上是类似的，性能的差别主要在于线程安全方面。"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/6337554142020286808?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/6337554142020286808?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1237522080000#c6337554142020286808","title":""}],"author":[{"name":{"$t":"编程随想"},"uri":{"$t":"https:\/\/www.blogger.com\/profile\/11741356469378252621"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"26","height":"32","src":"http:\/\/4.bp.blogspot.com\/_itipB8vBZzQ\/SY1isusKAfI\/AAAAAAAAAGo\/4YF360m0Yto\/S220\/Thinker_BlogSpot.jpg"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-1582521586"},{"name":"blogger.displayTime","value":"2009年3月20日 下午12:08:00"}]},{"gd$etag":"W/\"AkEMQX47eCp7ImA9WxVUFU8.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-35015489565430491"},"published":{"$t":"2009-03-20T13:58:00.000+08:00"},"updated":{"$t":"2009-03-20T13:58:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-20T13:58:00.000+08:00"},"title":{"$t":"“那是什么原因捏？　　虽然filter5有一个字符数组的创建开销，但是相对于filter4来说，St..."},"content":{"type":"html","$t":"“那是什么原因捏？\u003CBR\/\u003E　　虽然filter5有一个字符数组的创建开销，但是相对于filter4来说，StringBuffer的构造函数内部也会有字符数组的创建开销。两相抵消。所以filter5比filter4还多节省了StringBuffer对象本省的创建开销。所以节约了性能。”\u003CBR\/\u003E感觉上面这一条并不正确，filter4与filter5性能差别的主要原因应该是filter4方法中StringBuffer同步开销很大所致。"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/35015489565430491?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/35015489565430491?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1237528680000#c35015489565430491","title":""}],"author":[{"name":{"$t":"Anonymous"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"16","height":"16","src":"https:\/\/img1.blogblog.com\/img\/blank.gif"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-357517073"},{"name":"blogger.displayTime","value":"2009年3月20日 下午1:58:00"}]},{"gd$etag":"W/\"Ck4MQX47eCp7ImA9WxVUFUk.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-1152945547335639250"},"published":{"$t":"2009-03-20T17:23:00.000+08:00"},"updated":{"$t":"2009-03-20T17:23:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-20T17:23:00.000+08:00"},"title":{"$t":"楼上的同学，我在相同的环境下，把filter4改用StringBuilder，测试了一下，大概耗时1..."},"content":{"type":"html","$t":"楼上的同学，\u003CBR\/\u003E我在相同的环境下，把filter4改用StringBuilder，测试了一下，大概耗时1.15-1.20秒。性能相比StringBuffer约提升了0.2秒。\u003CBR\/\u003E而使用数组的filter5大概耗时0.72-0.78秒，比StringBuilder提升了约0.4秒。数组和StringBuilder之间的差异主要是由内存分配造成。\u003CBR\/\u003E所以，同步开销带来的性能影响（0.2秒）应该不如内存分配带来的影响（0.4秒）。\u003CBR\/\u003E不过JDK 1.6或许会不一样。我有空的话用JDK 1.6再测试一下。"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/1152945547335639250?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/1152945547335639250?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1237540980000#c1152945547335639250","title":""}],"author":[{"name":{"$t":"编程随想"},"uri":{"$t":"https:\/\/www.blogger.com\/profile\/11741356469378252621"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"26","height":"32","src":"http:\/\/4.bp.blogspot.com\/_itipB8vBZzQ\/SY1isusKAfI\/AAAAAAAAAGo\/4YF360m0Yto\/S220\/Thinker_BlogSpot.jpg"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-1582521586"},{"name":"blogger.displayTime","value":"2009年3月20日 下午5:23:00"}]},{"gd$etag":"W/\"DE8AQX47eCp7ImA9WxVUFUQ.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-8144363606031618105"},"published":{"$t":"2009-03-21T08:54:00.000+08:00"},"updated":{"$t":"2009-03-21T08:54:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-21T08:54:00.000+08:00"},"title":{"$t":"我是用JDK1.6测试的：filter4用时大约2.5秒，将其中的StringBuffer改成Str..."},"content":{"type":"html","$t":"我是用JDK1.6测试的：\u003CBR\/\u003Efilter4用时大约2.5秒，将其中的StringBuffer改成StringBuilder以后用时0.67秒，filter5用时大约0.46秒。\u003CBR\/\u003E我的机器是双核的，可能不同的机器不同的版本都有较大的区别 从我的测试结果看，感觉是同步开销使得filter4差别那么大的。\u003CBR\/\u003E楼主这篇文章对优化有很好的引导作用，十分感谢。"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/8144363606031618105?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/8144363606031618105?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1237596840000#c8144363606031618105","title":""}],"author":[{"name":{"$t":"Anonymous"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"16","height":"16","src":"https:\/\/img1.blogblog.com\/img\/blank.gif"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-357517073"},{"name":"blogger.displayTime","value":"2009年3月21日 上午8:54:00"}]},{"gd$etag":"W/\"DU8CQX47eCp7ImA9WxVUFUQ.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-5483319382976207282"},"published":{"$t":"2009-03-21T09:11:00.000+08:00"},"updated":{"$t":"2009-03-21T09:11:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-21T09:11:00.000+08:00"},"title":{"$t":"不同机器、不同版本之间的差异比较明显：我用JBuilder2006下的JDK1.5进行了测试：fil..."},"content":{"type":"html","$t":"不同机器、不同版本之间的差异比较明显：我用JBuilder2006下的JDK1.5进行了测试：filter4用时还是2.5秒，改为StringBuilder后耗时0.95秒，filter5用时0.67秒。从生成的字节码也看出不同版本生成的字节码也有不同。"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/5483319382976207282?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/5483319382976207282?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1237597860000#c5483319382976207282","title":""}],"author":[{"name":{"$t":"Anonymous"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"16","height":"16","src":"https:\/\/img1.blogblog.com\/img\/blank.gif"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-357517073"},{"name":"blogger.displayTime","value":"2009年3月21日 上午9:11:00"}]},{"gd$etag":"W/\"CUQGQX47eCp7ImA9WxVUFk0.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-8098213744102785686"},"published":{"$t":"2009-03-21T10:42:00.000+08:00"},"updated":{"$t":"2009-03-21T10:42:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-21T10:42:00.000+08:00"},"title":{"$t":"楼上的同学，看来某些情况下，有可能同步开销造成的差异大于内存分配的差异，我在原文中补充说明一下。"},"content":{"type":"html","$t":"楼上的同学，\u003CBR\/\u003E看来某些情况下，有可能同步开销造成的差异大于内存分配的差异，我在原文中补充说明一下。"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/8098213744102785686?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/8098213744102785686?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1237603320000#c8098213744102785686","title":""}],"author":[{"name":{"$t":"编程随想"},"uri":{"$t":"https:\/\/www.blogger.com\/profile\/11741356469378252621"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"26","height":"32","src":"http:\/\/4.bp.blogspot.com\/_itipB8vBZzQ\/SY1isusKAfI\/AAAAAAAAAGo\/4YF360m0Yto\/S220\/Thinker_BlogSpot.jpg"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-1582521586"},{"name":"blogger.displayTime","value":"2009年3月21日 上午10:42:00"}]},{"gd$etag":"W/\"DkYAQX47eCp7ImA9WxVUFk8.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-4506673593184111171"},"published":{"$t":"2009-03-21T16:29:00.000+08:00"},"updated":{"$t":"2009-03-21T16:29:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-21T16:29:00.000+08:00"},"title":{"$t":"非常非常的好谢谢！！！！！！！！！！！"},"content":{"type":"html","$t":"非常非常的好谢谢！！！！！！！！！！！"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/4506673593184111171?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/4506673593184111171?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1237624140000#c4506673593184111171","title":""}],"author":[{"name":{"$t":"Anonymous"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"16","height":"16","src":"https:\/\/img1.blogblog.com\/img\/blank.gif"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-357517073"},{"name":"blogger.displayTime","value":"2009年3月21日 下午4:29:00"}]},{"gd$etag":"W/\"DU4GQX47eCp7ImA9WxVUF0o.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-6700059321063940854"},"published":{"$t":"2009-03-23T11:12:00.000+08:00"},"updated":{"$t":"2009-03-23T11:12:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-23T11:12:00.000+08:00"},"title":{"$t":"从字符串提出所有数字的需求是怎个上下文呢?在我的机器上一百万次的差别在100毫秒, 我想这算不上什么..."},"content":{"type":"html","$t":"从字符串提出所有数字的需求是怎个上下文呢?\u003CBR\/\u003E在我的机器上一百万次的差别在100毫秒, 我想这算不上什么优化.\u003CBR\/\u003E如果是为了提出连续的数字, 我宁愿用\/[0-9]+\/.test(string)这么简单的做法."},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/6700059321063940854?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/6700059321063940854?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1237777920000#c6700059321063940854","title":""}],"author":[{"name":{"$t":"Rex Sheng"},"uri":{"$t":"https:\/\/www.blogger.com\/profile\/09034538237755254362"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"31","height":"32","src":"http:\/\/shengning.googlepages.com\/rex.jpg"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-1186998774"},{"name":"blogger.displayTime","value":"2009年3月23日 上午11:12:00"}]},{"gd$etag":"W/\"CkUCQX47eCp7ImA9WxVUF0U.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-6214164402823168755"},"published":{"$t":"2009-03-23T11:51:00.000+08:00"},"updated":{"$t":"2009-03-23T11:51:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-23T11:51:00.000+08:00"},"title":{"$t":"楼上的同学，这个例子只要是用来说明内存分配对性能的影响。不过实际工作中也会碰到类似的例子，比如过滤掉..."},"content":{"type":"html","$t":"楼上的同学，\u003CBR\/\u003E这个例子只要是用来说明内存分配对性能的影响。不过实际工作中也会碰到类似的例子，比如过滤掉字符串中的某些字符。如果对性能比较敏感，用正则不一定合适。假如被过滤的不是字符串，而是非char类型的某种集合，那正则可能也帮不上忙。\u003CBR\/\u003E另外，不知道你所说的“一百万次的差别在100毫秒”，是指哪两个版本之间的对比？"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/6214164402823168755?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/6214164402823168755?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1237780260000#c6214164402823168755","title":""}],"author":[{"name":{"$t":"编程随想"},"uri":{"$t":"https:\/\/www.blogger.com\/profile\/11741356469378252621"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"26","height":"32","src":"http:\/\/4.bp.blogspot.com\/_itipB8vBZzQ\/SY1isusKAfI\/AAAAAAAAAGo\/4YF360m0Yto\/S220\/Thinker_BlogSpot.jpg"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-1582521586"},{"name":"blogger.displayTime","value":"2009年3月23日 上午11:51:00"}]},{"gd$etag":"W/\"DUAAQX47eCp7ImA9WxVUGUg.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-2102409192394247683"},"published":{"$t":"2009-03-25T13:09:00.000+08:00"},"updated":{"$t":"2009-03-25T13:09:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-25T13:09:00.000+08:00"},"title":{"$t":"原来JAVA代码也可以如此优化 优化效果也这么明显 赞LZ ^_^"},"content":{"type":"html","$t":"原来JAVA代码也可以如此优化 优化效果也这么明显 赞LZ ^_^"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/2102409192394247683?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/2102409192394247683?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1237957740000#c2102409192394247683","title":""}],"author":[{"name":{"$t":"Anonymous"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"16","height":"16","src":"https:\/\/img1.blogblog.com\/img\/blank.gif"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-357517073"},{"name":"blogger.displayTime","value":"2009年3月25日 下午1:09:00"}]},{"gd$etag":"W/\"CEYCQX47eCp7ImA9WxVbEU4.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-4405535196982630657"},"published":{"$t":"2009-03-27T13:36:00.000+08:00"},"updated":{"$t":"2009-03-27T13:36:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-03-27T13:36:00.000+08:00"},"title":{"$t":"我像前辈们学习啊"},"content":{"type":"html","$t":"我像前辈们学习啊"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/4405535196982630657?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/4405535196982630657?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1238132160000#c4405535196982630657","title":""}],"author":[{"name":{"$t":"Anonymous"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"16","height":"16","src":"https:\/\/img1.blogblog.com\/img\/blank.gif"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-357517073"},{"name":"blogger.displayTime","value":"2009年3月27日 下午1:36:00"}]},{"gd$etag":"W/\"DkQAQX47eCp7ImA9WxVbFkg.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-5609278810806831153"},"published":{"$t":"2009-04-02T14:39:00.000+08:00"},"updated":{"$t":"2009-04-02T14:39:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-04-02T14:39:00.000+08:00"},"title":{"$t":"这是我第一次写的:public static String filter_0(String inpu..."},"content":{"type":"html","$t":"这是我第一次写的:\u003CBR\/\u003Epublic static String filter_0(String input) {\u003CBR\/\u003E  if (input == null) {\u003CBR\/\u003E   return \u0026quot;\u0026quot;;\u003CBR\/\u003E  }\u003CBR\/\u003E  StringBuffer out_buffer = new StringBuffer();\u003CBR\/\u003E  char[] input_chars = input.toCharArray();\u003CBR\/\u003E  for (int i = 0; i \u0026lt; input_chars.length; i ++) {\u003CBR\/\u003E   if (input_chars[i] \u0026gt;= 48 \u0026amp;\u0026amp; input_chars[i] \u0026lt; 58) {\u003CBR\/\u003E    out_buffer.append(input_chars[i]);\u003CBR\/\u003E   }\u003CBR\/\u003E  }\u003CBR\/\u003E  \u003CBR\/\u003E  return out_buffer.toString();\u003CBR\/\u003E }\u003CBR\/\u003E输出为：\u003CBR\/\u003E1125 (大概为1.125秒)\u003CBR\/\u003E1867833672165189614000\u003CBR\/\u003E经过你的提示，这是我优化后的：\u003CBR\/\u003Epublic static String filter_1(String input) {  \u003CBR\/\u003E  if (input == null) {\u003CBR\/\u003E   return \u0026quot;\u0026quot;;\u003CBR\/\u003E  }\u003CBR\/\u003E  char[] chars = input.toCharArray();\u003CBR\/\u003E  int pos = 0;\u003CBR\/\u003E  for (int i = 0; i \u0026lt; chars.length; i ++) {\u003CBR\/\u003E   if (chars[i] \u0026gt;= 48 \u0026amp;\u0026amp; chars[i] \u0026lt; 58) {\u003CBR\/\u003E    chars[pos++] = chars[i];\u003CBR\/\u003E   }\u003CBR\/\u003E  }\u003CBR\/\u003E  \u003CBR\/\u003E  return new String(chars, 0, pos);\u003CBR\/\u003E }\u003CBR\/\u003E输出为：\u003CBR\/\u003E531 大概为0.531秒\u003CBR\/\u003E1867833672165189614000"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/5609278810806831153?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/5609278810806831153?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1238654340000#c5609278810806831153","title":""}],"author":[{"name":{"$t":"渔夫"},"uri":{"$t":"https:\/\/www.blogger.com\/profile\/01887624837803279544"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"32","height":"27","src":"http:\/\/2.bp.blogspot.com\/_BU0qLYlS0SQ\/SbN1Fqh2kiI\/AAAAAAAABA4\/I2nHan1vid4\/S220\/p111407488.jpg"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-1491174512"},{"name":"blogger.displayTime","value":"2009年4月2日 下午2:39:00"}]},{"gd$etag":"W/\"DkMCQX47eCp7ImA9WxVbFkg.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-6463764456552549206"},"published":{"$t":"2009-04-02T14:41:00.000+08:00"},"updated":{"$t":"2009-04-02T14:41:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-04-02T14:41:00.000+08:00"},"title":{"$t":"补充，我的两个filter是在jdk6.5下面做的还有我惊奇的发现，我的filter2加了下面这个判..."},"content":{"type":"html","$t":"补充，我的两个filter是在jdk6.5下面做的\u003CBR\/\u003E\u003CBR\/\u003E还有我惊奇的发现，我的filter2加了下面这个判断后，反而快了几十毫秒，不知为何。\u003CBR\/\u003Eif (input == null) {\u003CBR\/\u003Ereturn \"\";\u003CBR\/\u003E}"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/6463764456552549206?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/6463764456552549206?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1238654460000#c6463764456552549206","title":""}],"author":[{"name":{"$t":"渔夫"},"uri":{"$t":"https:\/\/www.blogger.com\/profile\/01887624837803279544"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"32","height":"27","src":"http:\/\/2.bp.blogspot.com\/_BU0qLYlS0SQ\/SbN1Fqh2kiI\/AAAAAAAABA4\/I2nHan1vid4\/S220\/p111407488.jpg"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-1491174512"},{"name":"blogger.displayTime","value":"2009年4月2日 下午2:41:00"}]},{"gd$etag":"W/\"DEIEQX47eCp7ImA9WxVbFkg.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-6257674923270506213"},"published":{"$t":"2009-04-02T15:15:00.000+08:00"},"updated":{"$t":"2009-04-02T15:15:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-04-02T15:15:00.000+08:00"},"title":{"$t":"楼上的同学，感觉加了这个判断，应该对结果影响非常小。“快了几十毫秒”会不会是随机误差？你多测试几次看..."},"content":{"type":"html","$t":"楼上的同学，\u003CBR\/\u003E感觉加了这个判断，应该对结果影响非常小。\u003CBR\/\u003E“快了几十毫秒”会不会是随机误差？你多测试几次看看。"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/6257674923270506213?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/6257674923270506213?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1238656500000#c6257674923270506213","title":""}],"author":[{"name":{"$t":"编程随想"},"uri":{"$t":"https:\/\/www.blogger.com\/profile\/11741356469378252621"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"26","height":"32","src":"http:\/\/4.bp.blogspot.com\/_itipB8vBZzQ\/SY1isusKAfI\/AAAAAAAAAGo\/4YF360m0Yto\/S220\/Thinker_BlogSpot.jpg"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-1582521586"},{"name":"blogger.displayTime","value":"2009年4月2日 下午3:15:00"}]},{"gd$etag":"W/\"C0EGQX47eCp7ImA9WxVbFko.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-2940681435421548854"},"published":{"$t":"2009-04-02T19:27:00.000+08:00"},"updated":{"$t":"2009-04-02T19:27:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-04-02T19:27:00.000+08:00"},"title":{"$t":"下面是测试记录，单位：毫秒filter_1()执行次数为：10 * 1024 * 1024加了判断：..."},"content":{"type":"html","$t":"下面是测试记录，单位：毫秒\u003CBR\/\u003Efilter_1()执行次数为：10 * 1024 * 1024\u003CBR\/\u003E加了判断：  5187, 5203, 5172, 5188, 5235\u003CBR\/\u003E没有加判断：5625, 5719, 5703, 5672, 5687\u003CBR\/\u003E感觉虽然对结果的影响非常小，还是有影响的...\u003CBR\/\u003E困惑的是，从直觉上来讲，少了一次判断，应该更快才对，可是测试结果却跟直觉相反"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/2940681435421548854?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/2940681435421548854?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1238671620000#c2940681435421548854","title":""}],"author":[{"name":{"$t":"渔夫"},"uri":{"$t":"https:\/\/www.blogger.com\/profile\/01887624837803279544"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"32","height":"27","src":"http:\/\/2.bp.blogspot.com\/_BU0qLYlS0SQ\/SbN1Fqh2kiI\/AAAAAAAABA4\/I2nHan1vid4\/S220\/p111407488.jpg"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-1491174512"},{"name":"blogger.displayTime","value":"2009年4月2日 下午7:27:00"}]},{"gd$etag":"W/\"DkEMQX47eCp7ImA9WxVbFko.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-2274412977348717932"},"published":{"$t":"2009-04-02T20:18:00.000+08:00"},"updated":{"$t":"2009-04-02T20:18:00.000+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-04-02T20:18:00.000+08:00"},"title":{"$t":"如果排除了随机误差，你试试看用Java反编译器对两个class文件处理一下，看反编译出来的源代码有什..."},"content":{"type":"html","$t":"如果排除了随机误差，你试试看用Java反编译器对两个class文件处理一下，看反编译出来的源代码有什么差别？"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/2274412977348717932?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/2274412977348717932?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1238674680000#c2274412977348717932","title":""}],"author":[{"name":{"$t":"编程随想"},"uri":{"$t":"https:\/\/www.blogger.com\/profile\/11741356469378252621"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"26","height":"32","src":"http:\/\/4.bp.blogspot.com\/_itipB8vBZzQ\/SY1isusKAfI\/AAAAAAAAAGo\/4YF360m0Yto\/S220\/Thinker_BlogSpot.jpg"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-1582521586"},{"name":"blogger.displayTime","value":"2009年4月2日 下午8:18:00"}]},{"gd$etag":"W/\"CEIBQXgzcCp7ImA9WxJbEkQ.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-2297314973929721325"},"published":{"$t":"2009-07-23T03:55:50.688+08:00"},"updated":{"$t":"2009-07-23T03:55:50.688+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2009-07-23T03:55:50.688+08:00"},"title":{"$t":"Good article, but I still see the room for improve..."},"content":{"type":"html","$t":"Good article, but I still see the room for improvement:\u003Cbr \/\u003E\u003Cbr \/\u003EIn版本5, change\u003Cbr \/\u003E if(\u0026#39;0\u0026#39;\u0026lt;=ch \u0026amp;\u0026amp; ch\u0026lt;=\u0026#39;9\u0026#39;)  \u003Cbr \/\u003Eto\u003Cbr \/\u003E if (! (ch \u0026gt;\u0026#39;9\u0026#39; || ch \u0026lt;\u0026#39;0\u0026#39;)) \u003Cbr \/\u003E\u003Cbr \/\u003Ewe may reduce total number of the loop and buy some time, partially when the size of original string is BIG!"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/2297314973929721325?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/2297314973929721325?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1248292550688#c2297314973929721325","title":""}],"author":[{"name":{"$t":"szuo"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"16","height":"16","src":"https:\/\/img1.blogblog.com\/img\/blank.gif"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-11648573"},{"name":"blogger.displayTime","value":"2009年7月23日 上午3:55:00"}]},{"gd$etag":"W/\"Ak4GR30zfip7ImA9WhNVFko.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-7946289356956373738"},"published":{"$t":"2012-12-28T15:15:26.386+08:00"},"updated":{"$t":"2012-12-28T15:15:26.386+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2012-12-28T15:15:26.386+08:00"},"title":{"$t":"关于第五个版本比第四个版本更快的主要原因，并不在于创建stringbuffer对象上（当然这个也是一..."},"content":{"type":"html","$t":"关于第五个版本比第四个版本更快的主要原因，并不在于创建stringbuffer对象上（当然这个也是一个原因），更主要的在于第四个版本每次在append的时候，都会判定当前分配的char是否已经满了，如果满了，会重新new一个新的char数组，并进行一次内存的拷贝。经过测试，Stringbuffer（我用的stringbuilder）的创建消耗相对而言可以忽略~~"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/7946289356956373738?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/7946289356956373738?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1356678926386#c7946289356956373738","title":""}],"author":[{"name":{"$t":"Anonymous"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"16","height":"16","src":"https:\/\/img1.blogblog.com\/img\/blank.gif"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-1495316062"},{"name":"blogger.displayTime","value":"2012年12月28日 下午3:15:00"}]},{"gd$etag":"W/\"D0UDQn05fyp7ImA9WhNVGE4.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-4341086092441526669"},"published":{"$t":"2012-12-30T10:41:13.327+08:00"},"updated":{"$t":"2012-12-30T10:41:13.327+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2012-12-30T10:41:13.327+08:00"},"title":{"$t":"你可能没仔细看 版本3 和 版本4 的差异。\n\n版本4 相比 版本3，仅仅多了一个 StringBu..."},"content":{"type":"html","$t":"你可能没仔细看 版本3 和 版本4 的差异。\u003Cbr \/\u003E\u003Cbr \/\u003E版本4 相比 版本3，仅仅多了一个 StringBuffer 的构造函数参数。\u003Cbr \/\u003E这样一来，版本4 的 StringBuffer 就会在构造时事先分配足够的内存。\u003Cbr \/\u003E所以 版本4 在每次 append 的时候不会再重分配内存，也不会进行内存拷贝。\u003Cbr \/\u003E\u003Cbr \/\u003E你说的内存分配和内存拷贝导致的性能差异，是发生在 版本3 和 版本5 之间的。\u003Cbr \/\u003E版本4 不存在此问题。"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/4341086092441526669?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/4341086092441526669?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1356835273327#c4341086092441526669","title":""},{"rel":"related","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/7946289356956373738?v=2"}],"author":[{"name":{"$t":"编程随想"},"uri":{"$t":"https:\/\/www.blogger.com\/profile\/11741356469378252621"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"26","height":"32","src":"http:\/\/1.bp.blogspot.com\/-AmZd_cbsMA8\/Th5EbQ2_22I\/AAAAAAAAAfg\/loksvIqGzic\/s220\/Thinker.jpg"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-1582521586"},{"name":"blogger.displayTime","value":"2012年12月30日 上午10:41:00"}]},{"gd$etag":"W/\"AkMHRXYyeCp7ImA9WhBaEU0.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-7166542302005117205"},"published":{"$t":"2013-05-21T11:53:54.890+08:00"},"updated":{"$t":"2013-05-21T11:53:54.890+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2013-05-21T11:53:54.890+08:00"},"title":{"$t":"09年的帖啦，现在才看到，T..T,用jdk1.7.0小测了下，发现以上结论基本成立，除了filte..."},"content":{"type":"html","$t":"09年的帖啦，现在才看到，T..T,用jdk1.7.0小测了下，发现以上结论基本成立，除了filter3提升不明显，偶尔甚至比filter2还慢。于是，对filter3中的优化作了调整，如filter32：\u003Cbr \/\u003Eprivate static String filter32(String strOld)\u003Cbr \/\u003E{  \u003Cbr \/\u003E            StringBuffer strNew = new StringBuffer();\u003Cbr \/\u003E     \/\/int nLen = strOld.length();    \u003Cbr \/\u003E     \u003Cbr \/\u003E     for(int i=0; i\u0026lt;strOld.length(); i++)\u003Cbr \/\u003E     {\u003Cbr \/\u003E      \u003Cbr \/\u003E        char ch = strOld.charAt(i);\u003Cbr \/\u003E        if(\u0026#39;0\u0026#39;\u0026lt;=ch \u0026amp;\u0026amp; ch\u0026lt;=\u0026#39;9\u0026#39;)\u003Cbr \/\u003E        {\u003Cbr \/\u003E          strNew.append(ch);\u003Cbr \/\u003E        }\u003Cbr \/\u003E     }\u003Cbr \/\u003E     return strNew.toString();\u003Cbr \/\u003E   }\u003Cbr \/\u003E测试结果显示，filter32明显优于filter2和filter3,怀疑是否因为filter3中重复创建局部变量int的时间开销已超出重复调用length()的时间开销，以至于吃力不讨好？ 或者是jdk1.7优化的其他原因\u003Cbr \/\u003E\u003Cbr \/\u003E测试结果示例：\u003Cbr \/\u003EF2:1090-1099\u003Cbr \/\u003EF3:1073-1084\u003Cbr \/\u003EF32:1057-1066"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/7166542302005117205?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/7166542302005117205?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1369108434890#c7166542302005117205","title":""}],"author":[{"name":{"$t":"Anonymous"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"16","height":"16","src":"https:\/\/img1.blogblog.com\/img\/blank.gif"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-1404236551"},{"name":"blogger.displayTime","value":"2013年5月21日 上午11:53:00"}]},{"gd$etag":"W/\"C0AERX4zfSp7ImA9WhBaEkQ.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-5044159237754752701"},"published":{"$t":"2013-05-23T14:48:24.085+08:00"},"updated":{"$t":"2013-05-23T14:48:24.085+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2013-05-23T14:48:24.085+08:00"},"title":{"$t":"俺猜测\n有可能在 JDK 1.7 里面，对 String.length() 的调用已经在编译时优化掉..."},"content":{"type":"html","$t":"俺猜测\u003Cbr \/\u003E有可能在 JDK 1.7 里面，对 String.length() 的调用已经在编译时优化掉了。\u003Cbr \/\u003E所以用局部变量先保存长度，没有提升。\u003Cbr \/\u003E\u003Cbr \/\u003E你的测试数据中，F32 和 F3 其实很接近（百分比的差异）\u003Cbr \/\u003E说明在 JDK 1.7 里面，两种写法差异不大。\u003Cbr \/\u003E\u003Cbr \/\u003E另，\u003Cbr \/\u003E对比当年俺用 JDk 1.5 的测试数据。\u003Cbr \/\u003E看来 JDK 后续的版本在编译优化方面，有提升。\u003Cbr \/\u003E"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/5044159237754752701?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/5044159237754752701?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1369291704085#c5044159237754752701","title":""},{"rel":"related","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/7166542302005117205?v=2"}],"author":[{"name":{"$t":"编程随想"},"uri":{"$t":"https:\/\/www.blogger.com\/profile\/11741356469378252621"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"26","height":"32","src":"http:\/\/1.bp.blogspot.com\/-AmZd_cbsMA8\/Th5EbQ2_22I\/AAAAAAAAAfg\/loksvIqGzic\/s220\/Thinker.jpg"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-1582521586"},{"name":"blogger.displayTime","value":"2013年5月23日 下午2:48:00"}]},{"gd$etag":"W/\"DE4NSHg5fCp7ImA9XRZXF0w.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-8791675977221397425"},"published":{"$t":"2014-07-07T15:09:59.624+08:00"},"updated":{"$t":"2014-07-07T15:09:59.624+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2014-07-07T15:09:59.624+08:00"},"title":{"$t":"java8 都出来了 这个系列还没有结束。。。。"},"content":{"type":"html","$t":"java8 都出来了 这个系列还没有结束。。。。"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/8791675977221397425?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/8791675977221397425?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1404716999624#c8791675977221397425","title":""}],"author":[{"name":{"$t":"瘦肉丝"},"uri":{"$t":"https:\/\/www.blogger.com\/profile\/08494215908179486527"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"16","height":"16","src":"https:\/\/img1.blogblog.com\/img\/b16-rounded.gif"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-876279093"},{"name":"blogger.displayTime","value":"2014年7月7日 下午3:09:00"}]},{"gd$etag":"W/\"CUYMQHs4eyp7ImA9XRdaFU0.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-1837811158135481346"},"published":{"$t":"2014-12-25T18:26:21.533+08:00"},"updated":{"$t":"2014-12-25T18:26:21.533+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2014-12-25T18:26:21.533+08:00"},"title":{"$t":"正则表达式也可以过滤么"},"content":{"type":"html","$t":"正则表达式也可以过滤么"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/1837811158135481346?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/1837811158135481346?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1419503181533#c1837811158135481346","title":""}],"author":[{"name":{"$t":"vsked"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"16","height":"16","src":"https:\/\/img1.blogblog.com\/img\/blank.gif"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-710781562"},{"name":"blogger.displayTime","value":"2014年12月25日 下午6:26:00"}]},{"gd$etag":"W/\"C0cBQXYyfip7ImA9XRBUEEw.\"","id":{"$t":"tag:blogger.com,1999:blog-5235590154125226279.post-5785860983031627971"},"published":{"$t":"2016-06-27T15:04:10.896+08:00"},"updated":{"$t":"2016-06-27T15:04:10.896+08:00"},"app$edited":{"xmlns$app":"http://www.w3.org/2007/app","$t":"2016-06-27T15:04:10.896+08:00"},"title":{"$t":"LZ不错，上马治国评天下，下马编程写程序，哈哈！！"},"content":{"type":"html","$t":"LZ不错，上马治国评天下，下马编程写程序，哈哈！！"},"link":[{"rel":"edit","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/5785860983031627971?v=2"},{"rel":"self","type":"application/atom+xml","href":"https:\/\/www.blogger.com\/feeds\/5235590154125226279\/7966783034491899523\/comments\/default\/5785860983031627971?v=2"},{"rel":"alternate","type":"text/html","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html?showComment=1467011050896#c5785860983031627971","title":""}],"author":[{"name":{"$t":"Tony Tan"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"16","height":"16","src":"https:\/\/img1.blogblog.com\/img\/blank.gif"}}],"thr$in-reply-to":{"xmlns$thr":"http://purl.org/syndication/thread/1.0","href":"https:\/\/program-think.blogspot.com\/2009\/03\/java-performance-tuning-2-string.html","ref":"tag:blogger.com,1999:blog-5235590154125226279.post-7966783034491899523","source":"http://www.blogger.com/feeds/5235590154125226279/posts/default/7966783034491899523","type":"text/html"},"gd$extendedProperty":[{"name":"blogger.itemClass","value":"pid-871439464"},{"name":"blogger.displayTime","value":"2016年6月27日 下午3:04:00"}]}]}}